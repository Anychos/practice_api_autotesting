# Online Shop API Automation Testing

Это проект по автоматизации тестирования REST API онлайн магазина. Он создан с целью практической отработки навыков по автоматизированному тестированию API.

---

## О проекте

Проект нацелен на автоматизацию тестирования REST API онлайн магазина и покрывает базовые CRUD операции для следующих сущностей:

- **Authentication** – аутентификация и авторизация пользователей
- **Users** – управление пользователями
- **Products** – управление товарами
- **Carts** – управление корзиной покупок
- **Orders** – создание и получение заказов

---

## Технологический стек

В проекте используются следующие инструменты и технологии:

- **Python 3.13**
- **Pytest** — фреймворк для написания тестов и управления ими (фикстуры, плагины, маркеры)
- **HTTPX** — современная HTTP библиотека для взаимодействия с API
- **Allure** — инструмент для генерации отчетов (шаги, теги, критичность)
- **Faker** — библиотека для генерации тестовых данных
- **Pydantic** — библиотека для типизации и валидации схем запросов и ответов
- **Swagger coverage tool** — инструмент для измерения покрытия API тестами

---

## Технические особенности реализации

- **HTTP клиенты:** API каждой сущности инкапсулирован в отдельный клиент. Это позволяет отделить логику взаимодействия с API от бизнес-логики тестов.
- **Pydantic схемы:** для каждого API запроса и ответа используются Pydantic схемы для их типизации и валидации.
- **Фикстуры и фабрики:** фикстуры используются для предоставления готовых объектов и клиентов, а фабрики для параметризованного создания объектов и управления их состоянием.
- **Assertions:** во всех тестах используются assertions для проверки корректности ответов API.
- **Изолированные тесты:** все тесты независимы друг от друга и могут выполняться в любом порядке.
- **Проверка различных сценариев:** тестами покрыты как позитивные, так и негативные кейсы.
- **Интеграция с базой данных:** тесты выполняются на реальной базе данных. В среде CI используется PostgreSQL service, что позволяет поднимать изолированную временную БД на каждый прогон тестов.

---

## TO DO

- Переработать assertions для списков в ответах
- Доработать файл с окружением для Allure
- Провести ревизию allure steps и docstrings

## Ссылки

- Репозиторий с тестовым сервером и инструкцией по запуску: https://github.com/Anychos/practice_api_test_server.git

